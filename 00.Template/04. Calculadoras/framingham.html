<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escore de Framingham - Calculadoras de Enfermagem</title>
    <meta name="description" content="Calcule o risco cardiovascular em 10 anos - Escore de Framingham para estratificação de risco">
    <script src="../00.Template/assets/js/config.js"></script>
    <script>
        if (typeof CONFIG !== 'undefined') CONFIG.initGoogleAnalytics();
        if (typeof CONFIG !== 'undefined' && CONFIG.site.favicon) {
            const favicon = document.createElement('link');
            favicon.rel = 'icon'; favicon.href = CONFIG.site.favicon.url; favicon.type = CONFIG.site.favicon.type;
            document.head.appendChild(favicon);
        }
    </script>
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/04. Calculadoras/framingham.html" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../00.Template/assets/css/fontawesome.min.css">
    <link rel="stylesheet" href="../00.Template/assets/css/styles.css">
    <link rel="stylesheet" href="../00.Template/assets/css/template-conteudoferramentas.css">
    <link rel="stylesheet" href="../00.Template/assets/css/cookie-consent.css">
    <link rel="stylesheet" href="../00.Template/assets/css/header-icons.css">
    <link rel="stylesheet" href="../00.Template/assets/css/header-icons-mobile-fix.css">
    <link rel="stylesheet" href="../00.Template/assets/css/footer-redesign.css">
    <link rel="stylesheet" href="../00.Template/assets/css/sidebar-menu.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        #calculator-main-content { margin-top: 0; min-height: 100vh; }
    </style>
</head>
<body class="bg-gray-100">
    <div id="skip-links-container"></div>
    <div id="topbar-container"></div>
    <div id="header-container"></div>
    
    <main id="calculator-main-content">
        <div class="min-h-screen bg-gray-100 p-4 sm:p-8">
            <div class="mb-8">
                <button id="btn-voltar" class="flex items-center justify-center rounded-lg font-semibold transition-colors duration-200 bg-[#1A3E74] hover:bg-[#2a5a9e] px-4 py-2 text-sm mb-4 text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>
                    Voltar
                </button>
                <div class="bg-[#1A3E74] text-white p-6 rounded-xl shadow-lg">
                    <h1 class="text-2xl md:text-3xl font-bold">Escore de Risco de Framingham</h1>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 space-y-6">
                    <form id="calc-form" class="space-y-6">
                        <div class="p-4 bg-blue-50 rounded-xl border border-blue-200">
                            <h3 class="font-semibold text-gray-800 mb-3">Dados do Paciente</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Nome do Paciente</label>
                                    <input id="patient_name" type="text" placeholder="Nome completo" class="mt-1 block w-full border rounded-md p-2 text-sm" style="border: 1px solid #ccc;">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Data de Nascimento <span class="text-red-500">*</span></label>
                                    <input id="patient_birthdate" type="date" required class="mt-1 block w-full border rounded-md p-2 text-sm" style="border: 1px solid #ccc;">
                                    <p id="patient-age-display" class="text-xs text-gray-600 mt-1 font-bold"></p>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Sexo <span class="text-red-500">*</span></label>
                                    <select id="sexo" required class="mt-1 block w-full border rounded-md p-2 text-sm" style="border: 1px solid #ccc;">
                                        <option value="">Selecione...</option>
                                        <option value="masculino">Masculino</option>
                                        <option value="feminino">Feminino</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="p-4 bg-gray-50 rounded-xl border border-gray-300">
                            <h3 class="font-semibold text-gray-800 mb-4">Fatores de Risco Cardiovascular</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Colesterol Total (mg/dL) <span class="text-red-500">*</span></label>
                                    <input id="colesterol-total" type="number" min="100" max="400" step="1" required placeholder="Ex: 200" class="mt-1 block w-full border rounded-md p-2 text-sm text-right" style="border: 1px solid #ccc;">
                                    <p class="text-xs text-gray-500">Desejável: < 200 mg/dL</p>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">HDL (mg/dL) <span class="text-red-500">*</span></label>
                                    <input id="hdl" type="number" min="20" max="100" step="1" required placeholder="Ex: 50" class="mt-1 block w-full border rounded-md p-2 text-sm text-right" style="border: 1px solid #ccc;">
                                    <p class="text-xs text-gray-500">Desejável: > 60 mg/dL</p>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Pressão Sistólica (mmHg) <span class="text-red-500">*</span></label>
                                    <input id="pressao-sistolica" type="number" min="90" max="200" step="1" required placeholder="Ex: 120" class="mt-1 block w-full border rounded-md p-2 text-sm text-right" style="border: 1px solid #ccc;">
                                    <p class="text-xs text-gray-500">Normal: < 120 mmHg</p>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Tratamento para HAS?</label>
                                    <select id="tratamento-has" class="mt-1 block w-full border rounded-md p-2 text-sm" style="border: 1px solid #ccc;">
                                        <option value="nao">Não</option>
                                        <option value="sim">Sim</option>
                                    </select>
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                                <div class="flex items-center p-3 bg-white rounded-lg border">
                                    <input id="fumante" type="checkbox" class="mr-3 w-4 h-4 accent-[#1A3E74]">
                                    <label for="fumante" class="text-sm font-medium text-gray-700">Fumante Ativo</label>
                                </div>
                                <div class="flex items-center p-3 bg-white rounded-lg border">
                                    <input id="diabetes" type="checkbox" class="mr-3 w-4 h-4 accent-[#1A3E74]">
                                    <label for="diabetes" class="text-sm font-medium text-gray-700">Diabetes Mellitus</label>
                                </div>
                            </div>
                        </div>

                        <div class="flex gap-4 flex-col sm:flex-row">
                            <button type="submit" class="flex items-center justify-center rounded-lg font-semibold transition-colors flex-1 py-4 text-lg shadow-lg bg-[#1A3E74] text-white">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-5 h-5 mr-2"><rect x="4" y="2" width="16" height="20" rx="2"></rect></svg>
                                Calcular Risco
                            </button>
                            <button type="reset" class="flex items-center justify-center rounded-lg font-semibold transition-colors flex-1 py-4 text-lg bg-gray-100 text-gray-700" style="border: 1px solid #ccc;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-5 h-5 mr-2"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path></svg>
                                Limpar
                            </button>
                        </div>
                    </form>

                    <div id="error-message" class="hidden p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"></div>
                    
                    <div id="results-section" class="hidden space-y-6">
                        <div class="bg-white rounded-lg shadow-md border overflow-hidden">
                            <h3 class="bg-[#1A3E74] text-white p-4 font-bold text-xl">Resultado da Avaliação</h3>
                            <div id="result-content" class="p-6">
                                <div class="mb-4 p-6 rounded-lg border text-center" id="result-card">
                                    <p class="text-sm text-gray-600 mb-2">Risco Cardiovascular em 10 Anos</p>
                                    <p id="result-percentage" class="text-5xl font-extrabold mb-2"></p>
                                    <p id="result-classification" class="text-xl font-bold"></p>
                                </div>
                                <div id="recomendacoes" class="p-4 bg-blue-50 border border-blue-300 rounded-lg">
                                    <h4 class="font-semibold text-gray-800 mb-2">Recomendações:</h4>
                                    <ul id="recomendacoes-list" class="text-sm text-gray-700 space-y-1 list-disc list-inside"></ul>
                                </div>
                                <p class="text-xs font-bold text-yellow-700 mt-4 bg-yellow-100 border p-3 rounded-md">⚠️ Este escore é uma ferramenta de triagem. Avaliação médica completa é necessária para conduta terapêutica.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <aside class="space-y-6">
                    <div class="bg-white p-6 rounded-xl border shadow-sm">
                        <h3 class="font-bold text-lg text-[#1A3E74] mb-3">Escore de Framingham</h3>
                        <p class="text-sm text-gray-700 mb-3">Ferramenta validada para estimar o risco de eventos cardiovasculares (IAM, AVE) em 10 anos.</p>
                        <p class="text-xs font-bold mb-2">Classificação de Risco:</p>
                        <ul class="text-xs space-y-1">
                            <li><span class="inline-block w-3 h-3 bg-green-500 rounded mr-2"></span><strong>Baixo:</strong> < 10%</li>
                            <li><span class="inline-block w-3 h-3 bg-yellow-500 rounded mr-2"></span><strong>Moderado:</strong> 10-20%</li>
                            <li><span class="inline-block w-3 h-3 bg-red-500 rounded mr-2"></span><strong>Alto:</strong> > 20%</li>
                        </ul>
                    </div>

                    <div class="bg-white p-6 rounded-xl border">
                        <h3 class="font-bold text-lg text-gray-800 mb-3">Informações</h3>
                        <p class="text-sm text-gray-600">Versão: <strong>2.0.0</strong></p>
                        <p class="text-sm text-gray-600">Categoria: <span>Cardiologia/Prevenção</span></p>
                        <p class="text-xs text-gray-600 mt-2">Baseado no Framingham Heart Study</p>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <div id="footer-container"></div>
    <div id="vlibras-container"></div>
    <div id="cookie-banner-container"></div>

    <script src="../00.Template/assets/js/components.js"></script>
    <script src="../00.Template/assets/js/scripts.js"></script>
    <script src="../00.Template/assets/js/header-icons.js"></script>
    <script src="../00.Template/assets/js/floating-buttons-controller.js"></script>
    <script src="../00.Template/assets/js/sidebar-menu-controller.js"></script>
    <script src="../00.Template/assets/js/template-conteudoferramentas.js"></script>
    <script src="../00.Template/assets/js/cookie-banner-component.js"></script>
    <script src="../00.Template/assets/js/cookie-consent.js"></script>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (document.getElementById('skip-links-container') && typeof renderSkipLinks === 'function') 
                document.getElementById('skip-links-container').innerHTML = renderSkipLinks();
            if (document.getElementById('topbar-container') && typeof renderTopBar === 'function') 
                document.getElementById('topbar-container').innerHTML = renderTopBar();
            if (document.getElementById('header-container') && typeof renderHeader === 'function') 
                document.getElementById('header-container').innerHTML = renderHeader();
            if (document.getElementById('footer-container') && typeof renderFooter === 'function') 
                document.getElementById('footer-container').innerHTML = renderFooter();
            if (document.getElementById('vlibras-container') && typeof renderVLibras === 'function') 
                document.getElementById('vlibras-container').innerHTML = renderVLibras();
            if (document.getElementById('cookie-banner-container') && typeof renderCookieBanner === 'function') 
                document.getElementById('cookie-banner-container').innerHTML = renderCookieBanner();
            
            document.getElementById('btn-voltar').addEventListener('click', () => {
                if (document.referrer && document.referrer.includes(window.location.host)) window.history.back();
                else window.location.href = 'https://www.calculadorasdeenfermagem.com.br/';
            });
        });
    </script>
    
    <script>
        const form = document.getElementById('calc-form');
        const patientBirthdateInput = document.getElementById('patient_birthdate');
        const patientAgeDisplay = document.getElementById('patient-age-display');
        const errorMessage = document.getElementById('error-message');
        const resultsSection = document.getElementById('results-section');

        function calculateAge(birthDateString) {
            if (!birthDateString) return null;
            const birthDate = new Date(birthDateString);
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) age--;
            return age;
        }

        patientBirthdateInput.addEventListener('input', function() {
            const age = calculateAge(this.value);
            patientAgeDisplay.textContent = age !== null ? `Idade: ${age} anos` : '';
        });

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const idade = calculateAge(patientBirthdateInput.value);
            const sexo = document.getElementById('sexo').value;
            const colesterolTotal = parseInt(document.getElementById('colesterol-total').value);
            const hdl = parseInt(document.getElementById('hdl').value);
            const pressaoSistolica = parseInt(document.getElementById('pressao-sistolica').value);
            const tratamentoHAS = document.getElementById('tratamento-has').value === 'sim';
            const fumante = document.getElementById('fumante').checked;
            const diabetes = document.getElementById('diabetes').checked;

            if (!idade || !sexo || !colesterolTotal || !hdl || !pressaoSistolica) {
                errorMessage.textContent = "Preencha todos os campos obrigatórios.";
                errorMessage.classList.remove('hidden');
                resultsSection.classList.add('hidden');
                return;
            }

            if (idade < 30 || idade > 74) {
                errorMessage.textContent = "O Escore de Framingham é válido para idades entre 30 e 74 anos.";
                errorMessage.classList.remove('hidden');
                resultsSection.classList.add('hidden');
                return;
            }

            // Cálculo simplificado do Escore de Framingham
            let pontos = 0;

            // Pontos por idade
            if (sexo === 'masculino') {
                if (idade >= 30 && idade <= 34) pontos += -1;
                else if (idade >= 35 && idade <= 39) pontos += 0;
                else if (idade >= 40 && idade <= 44) pontos += 1;
                else if (idade >= 45 && idade <= 49) pontos += 2;
                else if (idade >= 50 && idade <= 54) pontos += 3;
                else if (idade >= 55 && idade <= 59) pontos += 4;
                else if (idade >= 60 && idade <= 64) pontos += 5;
                else if (idade >= 65 && idade <= 69) pontos += 6;
                else if (idade >= 70 && idade <= 74) pontos += 7;
            } else {
                if (idade >= 30 && idade <= 34) pontos += -9;
                else if (idade >= 35 && idade <= 39) pontos += -4;
                else if (idade >= 40 && idade <= 44) pontos += 0;
                else if (idade >= 45 && idade <= 49) pontos += 3;
                else if (idade >= 50 && idade <= 54) pontos += 6;
                else if (idade >= 55 && idade <= 59) pontos += 7;
                else if (idade >= 60 && idade <= 64) pontos += 8;
                else if (idade >= 65 && idade <= 69) pontos += 8;
                else if (idade >= 70 && idade <= 74) pontos += 8;
            }

            // Pontos por colesterol total
            if (colesterolTotal < 160) pontos += 0;
            else if (colesterolTotal >= 160 && colesterolTotal < 200) pontos += (sexo === 'masculino' ? 1 : 1);
            else if (colesterolTotal >= 200 && colesterolTotal < 240) pontos += (sexo === 'masculino' ? 2 : 3);
            else if (colesterolTotal >= 240 && colesterolTotal < 280) pontos += (sexo === 'masculino' ? 3 : 4);
            else pontos += (sexo === 'masculino' ? 4 : 5);

            // Pontos por HDL
            if (hdl >= 60) pontos -= 2;
            else if (hdl >= 50 && hdl < 60) pontos -= 1;
            else if (hdl >= 35 && hdl < 50) pontos += 0;
            else pontos += 1;

            // Pontos por pressão sistólica
            if (tratamentoHAS) {
                if (pressaoSistolica < 120) pontos += -3;
                else if (pressaoSistolica >= 120 && pressaoSistolica < 130) pontos += 0;
                else if (pressaoSistolica >= 130 && pressaoSistolica < 140) pontos += 0;
                else if (pressaoSistolica >= 140 && pressaoSistolica < 160) pontos += 2;
                else pontos += 3;
            } else {
                if (pressaoSistolica < 120) pontos += 0;
                else if (pressaoSistolica >= 120 && pressaoSistolica < 130) pontos += 0;
                else if (pressaoSistolica >= 130 && pressaoSistolica < 140) pontos += 1;
                else if (pressaoSistolica >= 140 && pressaoSistolica < 160) pontos += 2;
                else pontos += 3;
            }

            // Pontos por diabetes e tabagismo
            if (diabetes) pontos += (sexo === 'masculino' ? 2 : 4);
            if (fumante) pontos += (sexo === 'masculino' ? 4 : 3);

            // Conversão de pontos para percentual de risco (simplificado)
            let riscoPercentual;
            if (pontos < 0) riscoPercentual = 1;
            else if (pontos <= 5) riscoPercentual = 3;
            else if (pontos <= 10) riscoPercentual = 8;
            else if (pontos <= 15) riscoPercentual = 15;
            else if (pontos <= 20) riscoPercentual = 25;
            else riscoPercentual = 35;

            // Classificação
            let classificacao, cor, bgColor, borderColor, recomendacoes;
            if (riscoPercentual < 10) {
                classificacao = 'Risco Baixo';
                cor = 'text-green-700';
                bgColor = 'bg-green-50';
                borderColor = 'border-green-300';
                recomendacoes = [
                    'Manter estilo de vida saudável',
                    'Praticar atividade física regular',
                    'Alimentação balanceada',
                    'Controle periódico dos fatores de risco'
                ];
            } else if (riscoPercentual >= 10 && riscoPercentual < 20) {
                classificacao = 'Risco Moderado';
                cor = 'text-yellow-700';
                bgColor = 'bg-yellow-50';
                borderColor = 'border-yellow-300';
                recomendacoes = [
                    'Avaliação médica para considerar terapia medicamentosa',
                    'Modificação intensiva do estilo de vida',
                    'Controle rigoroso dos fatores de risco',
                    'Monitoramento regular'
                ];
            } else {
                classificacao = 'Risco Alto';
                cor = 'text-red-700';
                bgColor = 'bg-red-50';
                borderColor = 'border-red-300';
                recomendacoes = [
                    'Avaliação médica urgente',
                    'Terapia medicamentosa provavelmente indicada',
                    'Mudanças intensivas no estilo de vida',
                    'Monitoramento frequente',
                    'Considerar encaminhamento para cardiologista'
                ];
            }

            // Atualiza UI
            errorMessage.classList.add('hidden');
            resultsSection.classList.remove('hidden');
            
            const resultCard = document.getElementById('result-card');
            resultCard.className = `mb-4 p-6 rounded-lg border text-center ${bgColor} ${borderColor}`;
            
            document.getElementById('result-percentage').textContent = `${riscoPercentual}%`;
            document.getElementById('result-percentage').className = `text-5xl font-extrabold mb-2 ${cor}`;
            document.getElementById('result-classification').textContent = classificacao;
            document.getElementById('result-classification').className = `text-xl font-bold ${cor}`;
            
            const recomendacoesList = document.getElementById('recomendacoes-list');
            recomendacoesList.innerHTML = '';
            recomendacoes.forEach(rec => {
                const li = document.createElement('li');
                li.textContent = rec;
                recomendacoesList.appendChild(li);
            });
        });

        form.addEventListener('reset', function() {
            patientAgeDisplay.textContent = '';
            errorMessage.classList.add('hidden');
            resultsSection.classList.add('hidden');
        });
    </script>
</body>
</html>
