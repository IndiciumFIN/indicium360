document.addEventListener("DOMContentLoaded",function(){AOS.init({duration:800,easing:"ease-in-out",once:!0})});class AccessibilityController{constructor(){this.settings={fontSize:"normal",textStyle:"normal",lineHeight:"normal",letterSpacing:"normal",readingMode:!1,readingMask:"off",readingGuide:"off",highlightLinks:!1,magnifier:!1,contrast:"normal",saturation:"normal",bigCursor:!1,pageStructure:!1,highlightTitles:!1,pauseAnimations:!1,hideImages:!1,colorblind:"normal",dyslexia:"normal",virtualKeyboard:!1,textReader:"off"},this.speechSynthesis=window.speechSynthesis,this.currentUtterance=null,this.readingSpeed=1,this.init()}init(){this.bindEvents(),this.loadSettings(),this.setupTextReader(),this.setupMagnifier(),this.setupReadingGuide(),this.setupVirtualKeyboard()}bindEvents(){document.getElementById("accessibility-button").addEventListener("click",()=>{this.toggleMenu()}),document.getElementById("accessibility-backdrop").addEventListener("click",()=>{this.closeMenu()}),document.querySelector(".accessibility-close").addEventListener("click",()=>{this.closeMenu()}),document.querySelectorAll(".accessibility-btn").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.dataset.action,s=e.target.dataset.value;this.handleAction(t,s,e.target)})}),document.querySelectorAll(".accessibility-toggle").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.dataset.action;this.handleToggle(t,e.target)})}),document.addEventListener("keydown",e=>{this.handleKeyboardShortcuts(e)})}toggleMenu(){const e=document.getElementById("accessibility-backdrop"),t=document.getElementById("accessibility-menu");e.classList.toggle("open"),t.classList.toggle("open")}closeMenu(){const e=document.getElementById("accessibility-backdrop"),t=document.getElementById("accessibility-menu");e.classList.remove("open"),t.classList.remove("open")}handleAction(e,t,s){switch(e){case"font-size":this.setFontSize(t,s);break;case"text-style":this.setTextStyle(t,s);break;case"line-height":this.setLineHeight(t,s);break;case"letter-spacing":this.setLetterSpacing(t,s);break;case"text-reader":this.setTextReader(t,s);break;case"reading-mask":this.setReadingMask(t,s);break;case"reading-guide":this.setReadingGuide(t,s);break;case"contrast":this.setContrast(t,s);break;case"saturation":this.setSaturation(t,s);break;case"colorblind":this.setColorblind(t,s);break;case"dyslexia":this.setDyslexia(t,s);break;case"show-shortcuts":this.showShortcuts()}this.saveSettings()}handleToggle(e,t){const s=t.classList.contains("active");switch(e){case"reading-mode":this.toggleReadingMode(!s,t);break;case"highlight-links":this.toggleHighlightLinks(!s,t);break;case"magnifier":this.toggleMagnifier(!s,t);break;case"big-cursor":this.toggleBigCursor(!s,t);break;case"page-structure":this.togglePageStructure(!s,t);break;case"highlight-titles":this.toggleHighlightTitles(!s,t);break;case"pause-animations":this.togglePauseAnimations(!s,t);break;case"hide-images":this.toggleHideImages(!s,t);break;case"virtual-keyboard":this.toggleVirtualKeyboard(!s,t)}this.saveSettings()}setFontSize(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("zoom-120","zoom-150","zoom-200"),"reset"!==e&&(document.body.classList.add(`zoom-${e}`),t.classList.add("active")),this.settings.fontSize=e}setTextStyle(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("serif-font","bold-text","serif-bold"),"reset"!==e&&(document.body.classList.add(`${e}-font`),t.classList.add("active")),this.settings.textStyle=e}setLineHeight(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("line-height-120","line-height-150","line-height-200"),"reset"!==e&&(document.body.classList.add(`line-height-${e}`),t.classList.add("active")),this.settings.lineHeight=e}setLetterSpacing(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("letter-spacing-120","letter-spacing-150","letter-spacing-200"),"reset"!==e&&(document.body.classList.add(`letter-spacing-${e}`),t.classList.add("active")),this.settings.letterSpacing=e}setTextReader(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),"stop"===e?this.stopReading():(this.readingSpeed="fast"===e?1.5:"slow"===e?.5:1,t.classList.add("active")),this.settings.textReader=e}setReadingMask(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("reading-mask-on","reading-mask-small","reading-mask-medium","reading-mask-large"),"off"!==e&&(document.body.classList.add("reading-mask-on",`reading-mask-${e}`),t.classList.add("active")),this.settings.readingMask=e}setReadingGuide(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")});const s=document.getElementById("reading-guide");document.body.classList.remove("reading-guide-active"),s.classList.remove("reading-guide-orange","reading-guide-yellow","reading-guide-black"),"off"!==e&&(document.body.classList.add("reading-guide-active"),s.classList.add(`reading-guide-${e}`),t.classList.add("active")),this.settings.readingGuide=e}setContrast(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("high-contrast"),document.body.style.filter="","high"===e?(document.body.classList.add("high-contrast"),t.classList.add("active")):"invert"===e&&(document.body.style.filter="invert(1)",t.classList.add("active")),this.settings.contrast=e}setSaturation(e,t){if(t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("low-saturation","high-saturation","monochrome"),"reset"!==e){const s="low"===e?"low-saturation":"high"===e?"high-saturation":"monochrome";document.body.classList.add(s),t.classList.add("active")}this.settings.saturation=e}setColorblind(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("protanopia","deuteranopia","tritanopia"),"reset"!==e&&(document.body.classList.add(e),t.classList.add("active")),this.settings.colorblind=e}setDyslexia(e,t){t.parentElement.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("dyslexia-regular","dyslexia-sylexiad"),"reset"!==e&&(document.body.classList.add(`dyslexia-${e}`),t.classList.add("active")),this.settings.dyslexia=e}toggleReadingMode(e,t){e?(document.body.classList.add("reading-mode"),t.classList.add("active")):(document.body.classList.remove("reading-mode"),t.classList.remove("active")),this.settings.readingMode=e}toggleHighlightLinks(e,t){e?(document.body.classList.add("highlight-links"),t.classList.add("active")):(document.body.classList.remove("highlight-links"),t.classList.remove("active")),this.settings.highlightLinks=e}toggleMagnifier(e,t){e?(document.body.classList.add("magnifier-active"),t.classList.add("active")):(document.body.classList.remove("magnifier-active"),t.classList.remove("active")),this.settings.magnifier=e}toggleBigCursor(e,t){e?(document.body.classList.add("big-cursor"),t.classList.add("active")):(document.body.classList.remove("big-cursor"),t.classList.remove("active")),this.settings.bigCursor=e}togglePageStructure(e,t){e?(document.body.classList.add("page-structure-active"),t.classList.add("active")):(document.body.classList.remove("page-structure-active"),t.classList.remove("active")),this.settings.pageStructure=e}toggleHighlightTitles(e,t){e?(document.body.classList.add("highlight-titles"),t.classList.add("active")):(document.body.classList.remove("highlight-titles"),t.classList.remove("active")),this.settings.highlightTitles=e}togglePauseAnimations(e,t){e?(document.body.classList.add("pause-animations"),t.classList.add("active")):(document.body.classList.remove("pause-animations"),t.classList.remove("active")),this.settings.pauseAnimations=e}toggleHideImages(e,t){e?(document.body.classList.add("hide-images"),t.classList.add("active")):(document.body.classList.remove("hide-images"),t.classList.remove("active")),this.settings.hideImages=e}toggleVirtualKeyboard(e,t){const s=document.getElementById("virtual-keyboard");e?(s.classList.add("active"),t.classList.add("active")):(s.classList.remove("active"),t.classList.remove("active")),this.settings.virtualKeyboard=e}setupTextReader(){document.addEventListener("click",e=>{if("off"!==this.settings.textReader&&"stop"!==this.settings.textReader){const t=e.target.textContent||e.target.alt||"";t.trim()&&this.readText(t)}})}readText(e){this.stopReading(),this.currentUtterance=new SpeechSynthesisUtterance(e),this.currentUtterance.rate=this.readingSpeed,this.currentUtterance.lang="pt-BR",this.speechSynthesis.speak(this.currentUtterance)}stopReading(){this.speechSynthesis.speaking&&this.speechSynthesis.cancel()}setupMagnifier(){const e=document.getElementById("magnifier-lens");document.addEventListener("mousemove",t=>{this.settings.magnifier?(e.style.left=t.clientX-50+"px",e.style.top=t.clientY-50+"px",e.style.display="block"):e.style.display="none"})}setupReadingGuide(){const e=document.getElementById("reading-guide");document.addEventListener("mousemove",t=>{"off"!==this.settings.readingGuide&&(e.style.top=t.clientY-15+"px")})}setupVirtualKeyboard(){document.querySelectorAll(".keyboard-key").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.dataset.key,s=document.activeElement;if(s&&("INPUT"===s.tagName||"TEXTAREA"===s.tagName))if("Backspace"===t){const e=s.selectionStart,t=s.selectionEnd,i=s.value;s.value=i.slice(0,e-1)+i.slice(t),s.setSelectionRange(e-1,e-1)}else if("Enter"===t)s.value+="\n";else{const e=s.selectionStart,i=s.selectionEnd,a=s.value;s.value=a.slice(0,e)+t+a.slice(i),s.setSelectionRange(e+t.length,e+t.length)}})})}showShortcuts(){const e=document.getElementById("shortcuts-modal");e.classList.add("active");const t=e.querySelector(".shortcuts-close"),s=()=>{e.classList.remove("active")};t.addEventListener("click",s),e.addEventListener("click",t=>{t.target===e&&s()})}handleKeyboardShortcuts(e){e.altKey&&"a"===e.key&&(e.preventDefault(),this.toggleMenu()),"Escape"===e.key&&(this.closeMenu(),document.getElementById("shortcuts-modal").classList.remove("active"))}saveSettings(){localStorage.setItem("accessibility-settings",JSON.stringify(this.settings))}loadSettings(){const e=localStorage.getItem("accessibility-settings");e&&(this.settings={...this.settings,...JSON.parse(e)},this.applySettings())}applySettings(){Object.keys(this.settings).forEach(e=>{const t=this.settings[e];switch(e){case"fontSize":"normal"!==t&&"reset"!==t&&document.body.classList.add(`zoom-${t}`);break;case"textStyle":"normal"!==t&&"reset"!==t&&document.body.classList.add(`${t}-font`);break;case"lineHeight":"normal"!==t&&"reset"!==t&&document.body.classList.add(`line-height-${t}`);break;case"letterSpacing":"normal"!==t&&"reset"!==t&&document.body.classList.add(`letter-spacing-${t}`);break;case"readingMode":t&&document.body.classList.add("reading-mode");break;case"highlightLinks":t&&document.body.classList.add("highlight-links");break;case"magnifier":t&&document.body.classList.add("magnifier-active");break;case"bigCursor":t&&document.body.classList.add("big-cursor");break;case"pageStructure":t&&document.body.classList.add("page-structure-active");break;case"highlightTitles":t&&document.body.classList.add("highlight-titles");break;case"pauseAnimations":t&&document.body.classList.add("pause-animations");break;case"hideImages":t&&document.body.classList.add("hide-images");break;case"virtualKeyboard":t&&document.getElementById("virtual-keyboard").classList.add("active")}}),this.updateUI()}updateUI(){document.querySelectorAll(".accessibility-btn").forEach(e=>{e.classList.remove("active")}),document.querySelectorAll(".accessibility-toggle").forEach(e=>{e.classList.remove("active")}),Object.keys(this.settings).forEach(e=>{const t=this.settings[e];if("boolean"==typeof t&&t){const t=document.querySelector(`[data-action="${this.camelToKebab(e)}"]`);t&&t.classList.contains("accessibility-toggle")&&t.classList.add("active")}else if("string"==typeof t&&"normal"!==t&&"reset"!==t&&"off"!==t){const s=document.querySelector(`[data-action="${this.camelToKebab(e)}"][data-value="${t}"]`);s&&s.classList.add("active")}})}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}}const accessibilityController=new AccessibilityController;document.getElementById("mobile-menu-button").addEventListener("click",function(){console.log("Mobile menu clicked")}),document.querySelectorAll("[data-lang]").forEach(e=>{e.addEventListener("click",function(){document.querySelectorAll("[data-lang]").forEach(e=>e.classList.remove("active")),this.classList.add("active"),console.log("Language changed to:",this.dataset.lang)})});const canvas=document.getElementById("hero-animation-canvas"),ctx=canvas.getContext("2d");function resizeCanvas(){canvas.width=canvas.offsetWidth,canvas.height=canvas.offsetHeight}function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);const e=.001*Date.now();for(let t=0;t<50;t++){const s=100*Math.sin(e+t)+canvas.width/2,i=50*Math.cos(e+.5*t)+canvas.height/2,a=2*Math.sin(e+t)+3;ctx.beginPath(),ctx.arc(s,i,a,0,2*Math.PI),ctx.fillStyle=`rgba(46, 196, 182, ${.1+.1*Math.sin(e+t)})`,ctx.fill()}requestAnimationFrame(animate)}window.addEventListener("resize",resizeCanvas),resizeCanvas(),animate(),document.querySelector("form").addEventListener("submit",function(e){e.preventDefault(),alert("Mensagem enviada com sucesso!")});